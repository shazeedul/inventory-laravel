var staticCacheName="pwa-v"+(new Date).getTime();if(document){var filesToCache=document.querySelector("meta[name='pwa:files']").getAttribute("content");filesToCache=JSON.parse(filesToCache)}else filesToCache=[];self.addEventListener("install",(event=>{this.skipWaiting(),event.waitUntil(caches.open(staticCacheName).then((cache=>cache.addAll(filesToCache))))})),self.addEventListener("activate",(event=>{event.waitUntil(caches.keys().then((cacheNames=>Promise.all(cacheNames.filter((cacheName=>cacheName.startsWith("pwa-"))).filter((cacheName=>cacheName!==staticCacheName)).map((cacheName=>caches.delete(cacheName)))))))})),self.addEventListener("fetch",(event=>{event.respondWith(caches.match(event.request).then((response=>response||fetch(event.request))).catch((()=>caches.match("offline"))))}));