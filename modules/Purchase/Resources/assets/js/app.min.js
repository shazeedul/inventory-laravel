function calculateTotalPrice(count){var total_price=$(`#quantity_${count}`).val()*$(`#unit_price_${count}`).val();$(`#total_${count}`).val(total_price)}function getPurchaseTotalPrice(){var total=0;$('input[name^="total"]').each((function(){var value=parseFloat($(this).val());isNaN(value)||(total+=value)})),$("#grandTotal").val(total)}document.addEventListener("DOMContentLoaded",(function(){$("#supplier_id").select2({tags:!0}),$(".product_id").select2({tags:!0}),$(document).on("click","#addRow",(function(){var count=parseInt($("#rowCount").val())+1,html="";html+="<tr>",html+=`<td><select name="product_id[]" class="form-control product_id" id="product_id_${count}"></select></td>`,html+=`<td><input type="number" name="quantity[]" class="form-control" id="quantity_${count}" onchange="calculateTotalPrice(${count})" onkeyup="calculateTotalPrice(${count})"></td>`,html+=`<td><input type="number" name="unit_price[]" class="form-control" id="unit_price_${count}" onchange="calculateTotalPrice(${count})" onkeyup="calculateTotalPrice(${count})"></td>`,html+=`<td><input type="text" name="description[]" class="form-control" id="description_${count}"></td>`,html+=`<td><input type="number" name="total_price[]" class="form-control" id="total_${count}" readonly></td>`,html+='<td><button type="button" class="btn btn-danger removeRow"><i class="fa fa-trash"></i></button></td>',html+="</tr>",$("#purchaseItem").append(html);var option="";option+='<option value="">Select Product</option>',products.forEach((function(product){option+=`<option value="${product.id}">${product.name}</option>`})),$(`#product_id_${count}`).html(option),$("#rowCount").val(count),$(".product_id").select2({tags:!0})})),$(document).on("click",".removeRow",(function(){if(1==$("#purchaseItem tr").length)return toastr.error("You can not remove last row!"),!1;$(this).closest("tr").remove()}))}));